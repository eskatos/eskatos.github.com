<html>
  <body>
    <h1>Rails 3 - Getting Started</h1>

    <h2>Prerequisites</h2>

    <h3>Git</h3>
    <ul>
      <li>sudo aptitude install git</li>
    </ul>

    <h3>Ruby on RVM</h3>
    <p>We will not use the ruby and gems from your distro but use RVM to isolate each rails application.</p>
    <ul>
      <li></li>
    </ul>

    <h3>Rails completion for bash</h3>
    <ul>
      <li>wget -0 ~/.bashrc_rails "https://github.com/jweslley/rails_completion/raw/master/rails.bash"</li>
      <li>echo "source ~/.bashrc_rails" >> ~/.bashrc</li>
      <li>. ~/.bashrc</li>
    </ul>


    <h2>Creating a new rails app</h2>
    <ul>
      <li>rails new myapp</li>
      <li>gem set create myapp</li>
      <li>echo "rvm 1.9.2@myapp" > myapp/.rvmrc</li>
      <li>cd myapp</li>
      <li>gem install rails</li>
      <li>bundle install</li>
      <li>./script/rails server</li>
      <li>http://localhost:3000/</li>
      <li>echo ".rails_generators~" >> .gitignore</li>
      <li>git init .</li>
      <li>git add .</li>
      <li>git commit -a -m "rails new"</li>
    </ul>

    <h2>Using JQuery as default javascript engine</h2>
    <ul>
      <li>https://github.com/rails/jquery-ujs</li>
      <li>echo "gem 'jquery-rails', '>= 0.2.7'" >> Gemfile</li>
      <li>bundle install</li>
      <li>rails generate jquery:install (add --ui if you want jQuery UI)</li>
      <li>git add .</li>
      <li>git commit -a -m "now using jquery"</li>
    </ul>

    <h2>Adding a home page controller and view</h2>
    <ul>
      <li>mv public/index.html public/rails.html</li>
      <li>rails generate controller Home index</li>
      <li>in config/routes.rb change the root to root :to => "home#index"</li>
      <li>./script/rails server</li>
      <li>http://localhost:3000/</li>
      <li>git add .</li>
      <li>git commit -a -m "added home controller and route"</li>
    </ul>

    <h2>Adding users profiles and authentication</h2>
    <ul>
      <li>https://github.com/plataformatec/devise</li>
      <li>echo "gem 'devise', '>= 1.1.8'" >> Gemfile</li>
      <li>bundle install</li>
      <li>rails generate devise:install</li>
      <li>configure your rails app for devise
	<ul>
	  <li>in config/environments/*.rb add config.action_mailer.default_url_options = { :host => 'localhost:3000' }</li>
	  <li>in app/views/layouts/application.html.erb add &lt;p class="notice"&gt;&lt;%= notice %&gt;&lt;/p&gt;&lt;p class="alert"&gt;&lt;%= alert %&gt;&lt;/p&gt; before the yield</li>
	</ul>
      </li>
      <li>rails generate devise User</li>
      <li>rake db:migrate</li>
      <li>./script/rails server</li>
      <li>http://localhost:3000/users/sign_in</li>
      <li>git add .</li>
      <li>git commit -a -m "now using devise for user authentication"</li>
    </ul>

    <h2>Adding support for file uploads</h2>
    <ul>
      <li>https://github.com/thoughtbot/paperclip</li>
      <li>sudo aptitude install imagemagick</li>
      <li>echo "gem 'paperclip', '~> 2.3'" >> Gemfile</li>
      <li>bundle install</li>
      <li>git add .</li>
      <li>git commit -a -m "added paperclip to handle file uploads"</li>
    </ul>

  </body>
</html>